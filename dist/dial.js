!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Dial=t()}(this,function(){"use strict";Object.assign=Object.assign||function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t};var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},r=function(){function t(){e(this,t),this._queue=[]}return t.prototype.on=function(e,t){return this._queue[e]=this._queue[e]||[],this._queue[e].push(t),this},t.prototype.off=function(e,t){if(this._queue[e]){var n="undefined"==typeof t?-2:this._queue[e].indexOf(t);n===-2?delete this._queue[e]:n!==-1&&this._queue[e].splice(n,1),this._queue[e]&&0==this._queue[e].length&&delete this._queue[e]}return this},t.prototype.has=function(e){return!!this._queue[e]},t.prototype.trigger=function(e){if(this._queue[e]){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=this._queue[e],o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var u=s;u.apply(this,n)}}return this},t}(),i=function(e,t,n){function r(e){return e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})}if(void 0===e.style[t])for(var i=["webkit","ms","moz","o"],o=0;o<i.length;o++){var a=i[o];if(t=r(a+"-"+t),void 0!==e.style[t])break}return e.style[t]=n,t},o=0,a=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-o)),r=window.setTimeout(function(){e(t+n)},n);return o=t+n,r},s=window.cancelAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||function(e){clearInterval(e)},u=function(r){function o(t,i){e(this,o);var a=n(this,r.call(this));return a.options=Object.assign({speed:30,areaNumber:8},i),a.pointer=t,a.init(),a}return t(o,r),o.prototype.init=function(){this._transform=i(this.pointer,"transform","translate3d(0,0,0)"),i(this.pointer,"backfaceVisibility","hidden"),i(this.pointer,"perspective","1000px"),this._raf=null,this._runAngle=0,this._targetAngle=-1},o.prototype.reset=function(){var e=arguments.length<=0||void 0===arguments[0]?"reset":arguments[0];this._raf&&(s(this._raf),this._raf=null,this._runAngle=0,this._targetAngle=-1,this.trigger(e),"reset"==e&&i(this.pointer,this._transform,"translate3d(0,0,0) rotate(0deg)"))},o.prototype.setResult=function(e){var t=360/this.options.areaNumber,n=Math.ceil(Math.random()*t+e*t);this._runAngle=0,this._targetAngle=n+360*(Math.floor(4*Math.random())+4)},o.prototype.draw=function(){var e=this;if(!this._raf){var t=function(){var t=0,n=function(){e._targetAngle==-1?e._runAngle+=e.options.speed:(t=(e._targetAngle-e._runAngle)/e.options.speed,t=t>e.options.speed?e.options.speed:t<.5?.5:t,e._runAngle+=t,e._runAngle=e._runAngle>e._targetAngle?e._targetAngle:e._runAngle),i(e.pointer,e._transform,"translate3d(0,0,0) rotate("+e._runAngle%360+"deg)"),e._runAngle==e._targetAngle?e.reset("end"):e._raf=a(n)};e._raf=a(n)};this.has("start")?this.trigger("start",t):t()}},o}(r);return u});